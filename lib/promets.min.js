!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("promets",[],factory):"object"==typeof exports?exports.promets=factory():root.promets=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(module,exports,__webpack_require__){"use strict";function noop(){}function delay(ms){return new Promise(function(resolve){setTimeout(resolve,ms)})}function Deferred(){var _this=this;this.resolve=null,this.reject=null,this.resolved=!1,this.rejected=!1,this.pending=!0,this.status=0,this.promise=new Promise(function(resolve,reject){_this.resolve=function(data){_this.resolved=!0,_this.pending=!1,resolve(data)},_this.reject=function(e){_this.rejected=!0,_this.pending=!1,reject(e)}})}function mandatory(){var param=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw new Error("Missing parameter "+param)}Object.defineProperty(exports,"__esModule",{value:!0});var debuglog=void 0;"undefined"!=typeof window&&(window.PM_DEBUG_MODE_ON=!1,exports.debuglog=debuglog=window.PM_DEBUG_MODE_ON?console.log.bind(console):noop),Object.defineProperty(Object.prototype,"observe",{value:function(){var attribute=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mandatory(),_this2=this,lookForValue=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],rate=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,deferred=new Deferred;debuglog("Started observing ",this," attribute ",attribute," for value ",lookForValue," current value ",this[attribute]);return function checkForValue(){_this2[attribute]===lookForValue?(debuglog("Finished observing ",_this2," attribute ",attribute," for value ",lookForValue," current value ",_this2[attribute]),deferred.resolve(lookForValue)):(debuglog("im still observing ",_this2," attribute ",attribute," for value ",lookForValue," current value ",_this2[attribute]),delay(rate).then(checkForValue))}(),deferred.promise},enumerable:!1}),exports.Deferred=Deferred,exports.delay=delay,exports.debuglog=debuglog,exports.Object=Object}])});